{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"/home/moxus/dev/moxus-org-static/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/moxus/dev/moxus-org-static/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/moxus/dev/moxus-org-static/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/moxus/dev/moxus-org-static/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/moxus/dev/moxus-org-static/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/moxus/dev/moxus-org-static/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/home/moxus/dev/moxus-org-static/components/Pagenator.jsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * paginator.jsx\n */\nimport React, { Component } from 'react';\nimport { Link } from \"components/Router\";\nimport styles from './Pagenator.css';\nvar MAX_VISIBLE_COUNT = 5;\n\nvar Pagenator = /*#__PURE__*/function (_Component) {\n  _inherits(Pagenator, _Component);\n\n  var _super = _createSuper(Pagenator);\n\n  function Pagenator(props) {\n    var _this;\n\n    _classCallCheck(this, Pagenator);\n\n    _this = _super.call(this, props);\n    _this.state = _this.getDefaultState.bind(_assertThisInitialized(_this))(); // this.onClicked = this.onClicked.bind(this);\n\n    return _this;\n  }\n\n  _createClass(Pagenator, [{\n    key: \"getDefaultState\",\n    value: function getDefaultState() {\n      return {\n        currentPage: this.props.currentPage\n      };\n    }\n  }, {\n    key: \"getPageMax\",\n    value: function getPageMax() {\n      return Math.floor(this.props.dataLength / this.props.postParARange) + 1;\n    }\n  }, {\n    key: \"onClicked\",\n    value: function onClicked(newPage) {\n      this.setState({\n        currentPage: newPage\n      }); // this._onChange(newPage);\n    }\n  }, {\n    key: \"_onChange\",\n    value: function _onChange(page) {\n      this.props.onChange(page);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // const currentLocation = window.location.pathname;\n      // console.log(currentLocation);\n      var p = this.props;\n      var s = this.state;\n      var max = this.getPageMax();\n      var className = this.props.className || '';\n      var skip = 0;\n\n      if (s.currentPage > p.maxVisible - 1 && s.currentPage < max) {\n        skip = s.currentPage - p.maxVisible + 1;\n      } else if (s.currentPage === max) {\n        skip = s.currentPage - p.maxVisible;\n      }\n\n      var num_show_page_num = Math.min(max, p.maxVisible);\n      var iterator = Array.apply(null, Array(num_show_page_num)).map(function (v, i) {\n        return skip + i + 1;\n      });\n      var previousPage = 1;\n\n      if (s.currentPage > 1) {\n        previousPage = s.currentPage - 1;\n      }\n\n      var nextPage = 1;\n\n      if (s.currentPage < max) {\n        nextPage = s.currentPage + 1;\n      }\n\n      var pev_hiding = s.currentPage === 1 ? styles.hiding : '';\n      var prev_class_name = s.currentPage === 1 ? 'disabled' : '';\n      var next_hiding = max === s.currentPage ? styles.hiding : '';\n      var next_class_name = s.currentPage === p.max ? 'disabled' : ''; // const notdisplaying = (currentLocation === '/') ? styles.notdisplaying : '';\n\n      return /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"\".concat(styles.paginator),\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"\".concat(styles.pagination, \" \").concat(className),\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"\".concat(styles.lists, \" \").concat(prev_class_name, \" \").concat(pev_hiding),\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: '/blog/page/' + previousPage,\n              onClick: this.onClicked.bind(this, previousPage),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\xAB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sr-only\",\n                children: \"Prev\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 11\n          }, this), iterator.map(function (page) {\n            var className = s.currentPage === page ? styles.active : '';\n            2;\n            var hiding = page <= 0 ? styles.hiding : '';\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"\".concat(styles.lists, \" \").concat(className, \" \").concat(hiding),\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: '/blog/page/' + page,\n                onClick: this.onClicked.bind(this, page),\n                children: page\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this)\n            }, page, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this);\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"\".concat(styles.lists, \" \").concat(next_class_name, \" \").concat(next_hiding),\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: '/blog/page/' + nextPage,\n              onClick: this.onClicked.bind(this, nextPage),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sr-only\",\n                children: \"Next\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\xBB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Pagenator;\n}(Component);\n\nPagenator.defaultProps = {\n  currentPage: 0,\n  dataLength: 0,\n  postParARange: 0,\n  maxVisible: MAX_VISIBLE_COUNT,\n  onChange: undefined\n};\nexport default Pagenator;","map":{"version":3,"sources":["/home/moxus/dev/moxus-org-static/components/Pagenator.jsx"],"names":["React","Component","Link","styles","MAX_VISIBLE_COUNT","Pagenator","props","state","getDefaultState","bind","currentPage","Math","floor","dataLength","postParARange","newPage","setState","page","onChange","p","s","max","getPageMax","className","skip","maxVisible","num_show_page_num","min","iterator","Array","apply","map","v","i","previousPage","nextPage","pev_hiding","hiding","prev_class_name","next_hiding","next_class_name","paginator","pagination","lists","onClicked","active","defaultProps","undefined"],"mappings":"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","sourcesContent":["/**\n * paginator.jsx\n */\n\nimport React, { Component } from 'react';\nimport { Link } from \"components/Router\";\n\nimport styles from './Pagenator.css';\n\nconst MAX_VISIBLE_COUNT = 5;\n\nclass Pagenator extends Component {\n  constructor(props) {\n    super(props);\n    this.state = this.getDefaultState.bind(this)();\n    // this.onClicked = this.onClicked.bind(this);\n  }\n\n  getDefaultState() {\n    return { currentPage: this.props.currentPage };\n  }\n\n  getPageMax() {\n    return Math.floor(this.props.dataLength / this.props.postParARange) + 1;\n  }\n\n  onClicked(newPage) {\n    this.setState({currentPage: newPage});\n    // this._onChange(newPage);\n  }\n\n  _onChange(page) {\n    this.props.onChange(page);\n  }\n\n  render() {\n    // const currentLocation = window.location.pathname;\n    // console.log(currentLocation);\n    const p = this.props;\n    const s = this.state;\n    const max = this.getPageMax();\n    var className = this.props.className || '';\n    var skip = 0;\n\n    if (s.currentPage > p.maxVisible - 1 && s.currentPage < max) {\n      skip = s.currentPage - p.maxVisible + 1;\n    } else if (s.currentPage === max) {\n      skip = s.currentPage - p.maxVisible;\n    }\n    const num_show_page_num = Math.min(max, p.maxVisible);\n\n    var iterator = Array.apply(null, Array(num_show_page_num)).map(function(v, i) {\n      return skip + i + 1;\n    });\n\n    var previousPage = 1;\n    if (s.currentPage > 1) {\n      previousPage = s.currentPage - 1;\n    }\n    var nextPage = 1;\n    if (s.currentPage < max) {\n      nextPage = s.currentPage + 1;\n    }\n    const pev_hiding = (s.currentPage === 1) ? styles.hiding : '';\n    const prev_class_name = s.currentPage === 1 ? 'disabled' : '';\n\n    const next_hiding = (max === s.currentPage) ? styles.hiding : '';\n    const next_class_name = s.currentPage === p.max ? 'disabled' : '';\n\n    // const notdisplaying = (currentLocation === '/') ? styles.notdisplaying : '';\n\n    return (\n      <nav className={`${styles.paginator}`}>\n        <ul className={`${styles.pagination} ${className}`}>\n          <li className={`${styles.lists} ${prev_class_name} ${pev_hiding}`}>\n            <Link to={'/blog/page/' + previousPage} onClick={this.onClicked.bind(this, previousPage)}>\n              <span aria-hidden=\"true\">&laquo;</span>\n              <span className=\"sr-only\">Prev</span>\n            </Link>\n          </li>\n          {iterator.map(function(page) {\n            const className = s.currentPage === page ? styles.active : '';2\n            const hiding = (page <= 0) ? styles.hiding : '';\n            return (\n              <li key={page}\n                className={`${styles.lists} ${className} ${hiding}`}>\n                <Link to={'/blog/page/' + page} onClick={this.onClicked.bind(this, page)}>\n                  {page}\n                </Link>\n              </li>\n            );\n          }, this)}\n          <li className={`${styles.lists} ${next_class_name} ${next_hiding}`}>\n            <Link to={'/blog/page/' + nextPage} onClick={this.onClicked.bind(this, nextPage)}>\n              <span className=\"sr-only\">Next</span>\n              <span aria-hidden=\"true\">&raquo;</span>\n            </Link>\n          </li>\n        </ul>\n      </nav>\n    );\n  }\n}\n\nPagenator.defaultProps = {\n  currentPage: 0,\n  dataLength: 0,\n  postParARange: 0,\n  maxVisible: MAX_VISIBLE_COUNT,\n  onChange: undefined\n};\n\nexport default Pagenator;\n"]},"metadata":{},"sourceType":"module"}