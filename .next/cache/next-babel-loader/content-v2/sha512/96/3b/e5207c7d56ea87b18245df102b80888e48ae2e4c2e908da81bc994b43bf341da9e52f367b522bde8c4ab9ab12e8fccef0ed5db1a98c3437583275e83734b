{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/moxus/dev/moxus-org-static/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/moxus/dev/moxus-org-static/context/menu.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nexport var MenuContext = /*#__PURE__*/React.createContext({\n  state: \"close\",\n  setState: function setState(state) {\n    console.log(state);\n  }\n});\n\nvar MenuContextProvider = function MenuContextProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _React$useState = React.useState(\"close\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      state = _React$useState2[0],\n      setState = _React$useState2[1]; // 初期化処理\n\n\n  React.useEffect(function () {\n    // localStorageから読み出し\n    var savedMenu = window.localStorage.getItem(\"menu\");\n\n    if (savedMenu !== null) {\n      setState(savedMenu);\n    }\n  }, []); // menu更新時処理\n\n  React.useEffect(function () {\n    // localStorageに保存\n    window.localStorage.setItem(\"menu\", state); // body要素のクラスを変更\n\n    document.body.className = state;\n  }, [state]);\n  return /*#__PURE__*/_jsxDEV(MenuContext.Provider, {\n    value: {\n      state: state,\n      setState: setState\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(MenuContextProvider, \"LFqf6jssYsNtReuxphF6q9CW/OM=\");\n\n_c = MenuContextProvider;\nexport default MenuContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"MenuContextProvider\");","map":{"version":3,"sources":["/home/moxus/dev/moxus-org-static/context/menu.tsx"],"names":["React","MenuContext","createContext","state","setState","console","log","MenuContextProvider","children","useState","useEffect","savedMenu","window","localStorage","getItem","setItem","document","body","className"],"mappings":";;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,OAAO,IAAMC,WAAW,gBAAGD,KAAK,CAACE,aAAN,CAGxB;AACDC,EAAAA,KAAK,EAAE,OADN;AAEDC,EAAAA,QAAQ,EAAE,kBAACD,KAAD,EAAW;AACnBE,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACD;AAJA,CAHwB,CAApB;;AAUP,IAAMI,mBAA8C,GAAG,SAAjDA,mBAAiD,OAAkB;AAAA;;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAAA,wBAC7CR,KAAK,CAACS,QAAN,CAA0B,OAA1B,CAD6C;AAAA;AAAA,MAChEN,KADgE;AAAA,MACzDC,QADyD,wBAGvE;;;AACAJ,EAAAA,KAAK,CAACU,SAAN,CAAgB,YAAM;AACpB;AACA,QAAMC,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAlB;;AACA,QAAIH,SAAS,KAAK,IAAlB,EAAwB;AACtBP,MAAAA,QAAQ,CAACO,SAAD,CAAR;AACD;AACF,GAND,EAMG,EANH,EAJuE,CAavE;;AACAX,EAAAA,KAAK,CAACU,SAAN,CAAgB,YAAM;AACpB;AACAE,IAAAA,MAAM,CAACC,YAAP,CAAoBE,OAApB,CAA4B,MAA5B,EAAoCZ,KAApC,EAFoB,CAIpB;;AACAa,IAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,GAA0Bf,KAA1B;AACD,GAND,EAMG,CAACA,KAAD,CANH;AAQA,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAALA,KAAF;AAASC,MAAAA,QAAQ,EAARA;AAAT,KAA7B;AAAA,cACGI;AADH;AAAA;AAAA;AAAA;AAAA,WADF;AAKD,CA3BD;;GAAMD,mB;;KAAAA,mB;AA6BN,eAAeA,mBAAf","sourcesContent":["import * as React from \"react\";\n\nexport const MenuContext = React.createContext<{\n  state: MenuState;\n  setState: (state: MenuState) => void;\n}>({\n  state: \"close\",\n  setState: (state) => {\n    console.log(state);\n  },\n});\n\nconst MenuContextProvider: React.FC<React.Props<{}>> = ({ children }) => {\n  const [state, setState] = React.useState<MenuState>(\"close\");\n\n  // 初期化処理\n  React.useEffect(() => {\n    // localStorageから読み出し\n    const savedMenu = window.localStorage.getItem(\"menu\");\n    if (savedMenu !== null) {\n      setState(savedMenu as MenuState);\n    }\n  }, []);\n\n\n  // menu更新時処理\n  React.useEffect(() => {\n    // localStorageに保存\n    window.localStorage.setItem(\"menu\", state);\n\n    // body要素のクラスを変更\n    document.body.className = state;\n  }, [state]);\n\n  return (\n    <MenuContext.Provider value={{ state, setState }}>\n      {children}\n    </MenuContext.Provider>\n  );\n};\n\nexport default MenuContextProvider;\n"]},"metadata":{},"sourceType":"module"}