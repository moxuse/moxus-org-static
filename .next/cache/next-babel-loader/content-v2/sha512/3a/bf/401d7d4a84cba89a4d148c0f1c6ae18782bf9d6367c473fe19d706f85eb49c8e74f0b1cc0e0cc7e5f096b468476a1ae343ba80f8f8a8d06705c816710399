{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/moxus/dev/moxus-org-static/context/menu.tsx\";\nimport * as React from \"react\";\nexport const MenuContext = /*#__PURE__*/React.createContext({\n  state: \"close\",\n  setState: state => {\n    console.log('in context:', state);\n  }\n});\n\nconst MenuContextProvider = ({\n  children\n}) => {\n  const [state, setState] = React.useState(\"close\"); // 初期化処理\n\n  React.useEffect(() => {\n    // localStorageから読み出し\n    const savedMenu = window.localStorage.getItem(\"menu\");\n\n    if (savedMenu !== null) {\n      setState(savedMenu);\n    }\n  }, []); // menu更新時処理\n\n  React.useEffect(() => {\n    // localStorageに保存\n    window.localStorage.setItem(\"menu\", state); // body要素のクラスを変更\n\n    document.body.className = state;\n  }, [state]);\n  return /*#__PURE__*/_jsxDEV(MenuContext.Provider, {\n    value: {\n      state,\n      setState\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\nexport default MenuContextProvider;","map":{"version":3,"sources":["/home/moxus/dev/moxus-org-static/context/menu.tsx"],"names":["React","MenuContext","createContext","state","setState","console","log","MenuContextProvider","children","useState","useEffect","savedMenu","window","localStorage","getItem","setItem","document","body","className"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,OAAO,MAAMC,WAAW,gBAAGD,KAAK,CAACE,aAAN,CAGxB;AACDC,EAAAA,KAAK,EAAE,OADN;AAEDC,EAAAA,QAAQ,EAAGD,KAAD,IAAW;AACnBE,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0BH,KAA1B;AACD;AAJA,CAHwB,CAApB;;AAUP,MAAMI,mBAA8C,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACvE,QAAM,CAACL,KAAD,EAAQC,QAAR,IAAoBJ,KAAK,CAACS,QAAN,CAA0B,OAA1B,CAA1B,CADuE,CAGvE;;AACAT,EAAAA,KAAK,CAACU,SAAN,CAAgB,MAAM;AACpB;AACA,UAAMC,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAlB;;AACA,QAAIH,SAAS,KAAK,IAAlB,EAAwB;AACtBP,MAAAA,QAAQ,CAACO,SAAD,CAAR;AACD;AACF,GAND,EAMG,EANH,EAJuE,CAavE;;AACAX,EAAAA,KAAK,CAACU,SAAN,CAAgB,MAAM;AACpB;AACAE,IAAAA,MAAM,CAACC,YAAP,CAAoBE,OAApB,CAA4B,MAA5B,EAAoCZ,KAApC,EAFoB,CAIpB;;AACAa,IAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,GAA0Bf,KAA1B;AACD,GAND,EAMG,CAACA,KAAD,CANH;AAQA,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAA7B;AAAA,cACGI;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CA3BD;;AA6BA,eAAeD,mBAAf","sourcesContent":["import * as React from \"react\";\n\nexport const MenuContext = React.createContext<{\n  state: MenuState;\n  setState: (state: MenuState) => void;\n}>({\n  state: \"close\",\n  setState: (state) => {\n    console.log('in context:',state);\n  },\n});\n\nconst MenuContextProvider: React.FC<React.Props<{}>> = ({ children }) => {\n  const [state, setState] = React.useState<MenuState>(\"close\");\n\n  // 初期化処理\n  React.useEffect(() => {\n    // localStorageから読み出し\n    const savedMenu = window.localStorage.getItem(\"menu\");\n    if (savedMenu !== null) {\n      setState(savedMenu as MenuState);\n    }\n  }, []);\n\n\n  // menu更新時処理\n  React.useEffect(() => {\n    // localStorageに保存\n    window.localStorage.setItem(\"menu\", state);\n\n    // body要素のクラスを変更\n    document.body.className = state;\n  }, [state]);\n\n  return (\n    <MenuContext.Provider value={{ state, setState }}>\n      {children}\n    </MenuContext.Provider>\n  );\n};\n\nexport default MenuContextProvider;\n"]},"metadata":{},"sourceType":"module"}